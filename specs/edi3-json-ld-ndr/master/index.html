<h2 id="status">Status</h2>

<p>Raw</p>

<h2 id="glossary">Glossary</h2>

<table>
  <thead>
    <tr>
      <th>Phrase</th>
      <th>Definition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>This service depends on - TBA.</p>

<p>The TBA specification depends on this document. Note, TBA.</p>

<h2 id="licence">Licence</h2>

<p>All material published on edi3.org including all parts of this specification are the intellectual property of the UN as per the <a href="https://www.unece.org/fileadmin/DAM/cefact/cf_plenary/plenary12/ECE_TRADE_C_CEFACT_2010_20_Rev2E_UpdatedIPRpolicy.pdf">UN/CEFACT IPR Policy</a>.</p>

<p>This Specification is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version. See http://www.gnu.org/licenses.</p>

<h2 id="change-process">Change Process</h2>

<p>This document is governed by the <a href="http://rfc.unprotocols.org/spec:2/COSS/">2/COSS</a> (COSS).</p>

<h2 id="language">Language</h2>

<p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” 
in this document are to be interpreted as described in RFC 2119.</p>

<h1 id="introduction">Introduction</h1>
<p>The JSON-LD project aims to let not just humans, but also machines understand the semantics of CEFACT.</p>

<h2 id="linked-data">Linked Data</h2>
<p>Machines build “knowledge graphs” by linking data together. This is done by use of RDF (Resource Description Framework). RDF specifies expressing data as so-called triples, defining subject-predicate-object. A super simple example of a knowledge graph might be:</p>
<ul>
  <li>The author’s name is Nis.</li>
  <li>Nis lives in Denmark.</li>
</ul>

<p>From this, a machine would be able to build this kind of simple knowledge graph: Author - name is - Nis - lives in - Denmark. And by parsing this graph, determine for example that “the author lives in Denmark”.</p>

<p>All subjects, predicates and (some) objects are identified on the web by a IRI (Uniform Resource Identifier). An IRI identifies <em>the thing</em>, as opposed to a URL which locates a page describing the <em>the thing</em>. While this is important to machines, there can be a bit of a clash here as to how humans best read data. For example <code class="language-plaintext highlighter-rouge">&lt;https://schema.org/author&gt; &lt;https://schema.org/givenName&gt; Nis.</code> is hardly as readable as ”Presenter’s name is Nis”.</p>

<h2 id="json-ld">JSON-LD</h2>
<p>Luckily, RDF comes in many flavors. The one which we will focus on here is JSON-LD, which among its advantages is that it is useful for both humans and machines. Also, JSON-LD is based on JSON, which practically is the grammar of any modern API.</p>

<p>JSON-LD works by injecting a “context” and some other linked data aspects into a normal JSON. All injections are prefixed with an “@” indicating a JSON-LD keyword.</p>

<p>Let’s consider an example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
	"@context": "https://edi3.org/specs/edi3-transport/develop/context.jsonld",
	"consignment": {
		"bookingNumber": "123456789",
		"@id": "https://www.maersk.com/tracking/123456789",
		"includedConsignmentItem": [
			{
				"consignmentItem": {
					"information": "Mangos and bananas",
					"grossWeight": {
						"Value": "12000", "Unit": "Kgs"
					}
				}
			}
		],
		"utilizedTransportEquipment": [
			{
				"transportEquipment": {
					"identification": "MSKU0134962",
        				"@id": "https://app.bic-boxtech.org/containers?search=MSKU0134962"
				}
			}
		]
	}
}
</code></pre></div></div>

<p>Most of this is just a basic json: a consignment with some consignmentItems and a transportEquipment. All expressed in somewhat nice CEFACT lingo which is useful for humans, but just meaningless strings to a computer. The JSON-LD parts <code class="language-plaintext highlighter-rouge">@context</code> and <code class="language-plaintext highlighter-rouge">@id</code> changes that.</p>

<p>The <code class="language-plaintext highlighter-rouge">@id</code> tags inject IRIs to properly identify the consignment and transportEquipment, respectively referencing appropriate APIs from the carrier and BIC.</p>

<p>The <code class="language-plaintext highlighter-rouge">@context</code> links to a jsonld file, defining the semantic meaning of each element of the JSON (note that the context does not have to be externalized to a referenced file like this, but can also just be included directly within the json data file). Here’s what <code class="language-plaintext highlighter-rouge">https://edi3.org/specs/edi3-transport/develop/context.jsonld</code> might look like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
	"@context": {
		"consignment": {
			"@id": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment",
			"@type": "@id"
		},
  		"includedConsignmentItem": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#ConsignmentItem",
		"consignmentItem": "https://edi3.org/specs/edi3-transport/develop/vocab/ConsignmentItem",
  		"utilizedTransportEquipment": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#utilizedTransportEquipment",
		"transportEquipment": {
			"@id": "https://edi3.org/specs/edi3-transport/develop/vocab/TransportEquipment",
			"@type": "@id"
		}
	}
}
</code></pre></div></div>

<p>Here, the @context adds mapping from the human terms in the JSON to IRIs formally defining the semantics used. For example, <code class="language-plaintext highlighter-rouge">https://edi3.org/specs/edi3-transport/develop/vocab/Consignment</code> is the IRI for Consignment.</p>

<p>From this, a computer is able to build a model like this (here serialized as N-Quads):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;https://www.maersk.com/tracking/123456789&gt; &lt;https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#ConsignmentItem&gt; _:b1 .
&lt;https://www.maersk.com/tracking/123456789&gt; &lt;https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#utilizedTransportEquipment&gt; _:b3 .
_:b0 &lt;https://edi3.org/specs/edi3-transport/develop/vocab/Consignment&gt; &lt;https://www.maersk.com/tracking/123456789&gt; .
_:b1 &lt;https://edi3.org/specs/edi3-transport/develop/vocab/ConsignmentItem&gt; _:b2 .
_:b3 &lt;https://edi3.org/specs/edi3-transport/develop/vocab/TransportEquipment&gt; &lt;https://app.bic-boxtech.org/containers?search=MSKU0134962&gt; .
</code></pre></div></div>

<h2 id="non-breaking-retro-fitting">Non-Breaking Retro Fitting</h2>
<p>A clever aspect of JSON-LD is that it can be retrofitted “on top” of legacy JSONs. Adding the JSON-LD (<code class="language-plaintext highlighter-rouge">@</code>-prefixed) tags will not break your APIs.</p>

<p>For example, the following legacy JSON (which is much less aligned to CEFACT) will continue working, but generate the exact same machine model. Note that the <code class="language-plaintext highlighter-rouge">@context</code> in this example is embedded into the JSON itself:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
	"@context": {
		"shipment": {
			"@id": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment",
			"@type": "@id"
		},
      	"goods": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#ConsignmentItem",
		"goodsItem": "https://edi3.org/specs/edi3-transport/develop/vocab/ConsignmentItem",
      	"containers": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#utilizedTransportEquipment",
		"container": {
			"@id": "https://edi3.org/specs/edi3-transport/develop/vocab/TransportEquipment",
			"@type": "@id"
		}
	},
	"shipment": {
		"bookingNumber": "123456789",
		"@id": "https://www.maersk.com/tracking/123456789",
		"goods": [{
				"goodsItem": {
					"information": "Mangos and bananas",
					"grossWeight": {"Value": "12000", "Unit": "Kgs"}
				}
			}],
		"containers": [{
				"container": {
					"boxNb": "MSKU0134962",
                  	"@id": "https://app.bic-boxtech.org/containers?search=MSKU0134962"
				}
			}]
	}
}
</code></pre></div></div>

<h1 id="edi3-json-ld-project-output">EDI3 JSON-LD Project Output</h1>
<p>Common semantics are defined many places throughout the internet. A very relevant example is https://schema.org/ which is extensively used for common stuff like defining Person, Address, Name and many other such fundamental aspects. More specialized semantics typically require specialized governance. In the case of trade and transport, that governance is CEFACT. In order to enable the web developers of the world to utilize our semantics, part of the edi3 ambition is to expose our semantics in a referenceable way as a library of IRIs.</p>

<p>These are some simple examples of how this could look for the three classes referenced in the above examples:</p>
<ul>
  <li>https://edi3.org/specs/edi3-transport/develop/vocab/Consignment</li>
  <li>https://edi3.org/specs/edi3-transport/develop/vocab/ConsignmentItem</li>
  <li>https://edi3.org/specs/edi3-transport/develop/vocab/TransportEquipment</li>
</ul>

<p>This should obviously be generated from the SCRDM model, part of the output of the RDM2API methodology. Similarly, the governance of the various high level groupings (in these examples /edi3-transport) should follow the town plan approach.</p>

<h1 id="related-material">Related Material</h1>

<ul>
  <li></li>
  <li></li>
</ul>
