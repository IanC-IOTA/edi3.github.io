<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>edi3 JSON-LD NDR 1.0 Specification - edi3 Standards by edi3</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <link rel="stylesheet" href="/css/style.css">
    

    
        <link rel="apple-touch-icon" sizes="57x57" href="/images/favicon/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/images/favicon/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/images/favicon/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/images/favicon/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/images/favicon/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/images/favicon/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/images/favicon/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/images/favicon/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="/images/favicon/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
        <link rel="manifest" href="/images/favicon/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="/images/favicon/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">
    
</head>

<body>

<header class="header">
    <div class="header-line">
        <div class="wrapper">
            <div id="mobile-menu-wrapper" class="mobile-menu">
                <button id="hamburger-menu" class="hamburger-menu">
                    <span>toggle menu</span>
                </button>
                <div id="mobile-menu" style="display: none;">
                    
                    <ul class="sidebar-menu">
    
    <li class="menu-title"><a href="/">Overview</a></li>
    <li><a  href="/governance/">Governance</a></li>
    <li><a  href="/business-case/">Business Case</a></li>
    <li><a  href="/glossary/">Glossary</a></li>
    <li class="menu-title"><a href="/semantic-specs/">Semantic Specs</a></li>
    <li><a  href="/trade/">Trade Domain</a></li>
    <li><a  href="/transport/">Transport Domain</a></li>
    <li><a  href="/regulatory/">Regulatory Domain</a></li>
    <li><a  href="/finance/">Finance Domain</a></li>
    <li><a  href="/unlocode/">UN Locode</a></li>
    <li><a  href="/codelists/">Code Lists</a></li>
    <li><a  href="/vocabulary/uncefact/">Vocabulary</a></li>
    <li class="menu-title"><a href="/technical-specs/">Technical Specs</a></li>
    <li><a  href="/igl/">Inter-Goverment Ledger</a></li>
    <li><a  href="/ssi-ndr/">Self-Sovereign Identity</a></li>
    <li><a  href="/notary/">Notary Service</a></li>
    <li class="menu-title"><a href="/tools-and-methods/">Tools and Methods</a></li>
    <li><a  href="/uml-profile/">UML Profile</a></li>
    <li><a  href="/api-ndr/">OpenAPI NDR</a></li>
    <li><a  href="/json-ld-ndr/">JSON-LD NDR</a></li>
    <li><a  href="/api-conformance/">Conformance Testing</a></li>
    <li class="menu-title"><a href="/community/">Community</a></li>
    <li><a href="http://eepurl.com/dMLfdU" target="_blank">Newsletter (subscribe)</a></li>
    <li><a href="https://join.slack.com/t/edi3/shared_invite/enQtNTY5OTkzMjQ0NjcyLTAxZGVlMzJmNWQ5MDBjOTRmMWViNGU0MzdhY2VkOWIwZWY3ODMxOWE4YTJmZjdiNTBkYzczZDk5Y2ViOWJlNzQ" target="_blank">Chat (join team)</a></li>
    <li><a  href="/github/">GitHub</a></li>
</ul>

                </div>
            </div>
            <a href="/" class="logo"><img src="/images/logo-horisontal-white.svg" alt="edi3"></a>
            <div class="header-search">
                <script>
                    (function() {
                        var cx = '002841699265932723855:7gvs7wrhud8';
                        var gcse = document.createElement('script');
                        gcse.type = 'text/javascript';
                        gcse.async = true;
                        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                        var s = document.getElementsByTagName('script')[0];
                        s.parentNode.insertBefore(gcse, s);
                    })();
                </script>
                <gcse:search></gcse:search>
            </div>
            
        </div>
    </div>
    <div class="header-content">
        <div class="wrapper">
            <div class="header-text-box">
                <div class="header-name">
                    
                        edi3 Standards
                    
                </div>
                <div class="header-tagline">
                    
                        Supply Chain Standards and Tools for Web Developers
                    
                </div>
            </div>
        </div>
    </div>
</header>
<script type="text/javascript">
    document.getElementById('hamburger-menu').onclick = function() {
        var nf = document.getElementById('mobile-menu');

        if(nf.style.display==='none') {
            nf.style.display = 'block';
        }
        else {
            nf.style.display = 'none';
        }
    };

    window.addEventListener('click', function(e){
        if (!document.getElementById('mobile-menu-wrapper').contains(e.target)){
            document.getElementById('mobile-menu').style.display= 'none';
        }
    })
</script>

<div class="main-wrapper">
    <div class="main-content">
        <div class="page-sidebar">
            <ul class="sidebar-menu">
    
    <li class="menu-title"><a href="/">Overview</a></li>
    <li><a  href="/governance/">Governance</a></li>
    <li><a  href="/business-case/">Business Case</a></li>
    <li><a  href="/glossary/">Glossary</a></li>
    <li class="menu-title"><a href="/semantic-specs/">Semantic Specs</a></li>
    <li><a  href="/trade/">Trade Domain</a></li>
    <li><a  href="/transport/">Transport Domain</a></li>
    <li><a  href="/regulatory/">Regulatory Domain</a></li>
    <li><a  href="/finance/">Finance Domain</a></li>
    <li><a  href="/unlocode/">UN Locode</a></li>
    <li><a  href="/codelists/">Code Lists</a></li>
    <li><a  href="/vocabulary/uncefact/">Vocabulary</a></li>
    <li class="menu-title"><a href="/technical-specs/">Technical Specs</a></li>
    <li><a  href="/igl/">Inter-Goverment Ledger</a></li>
    <li><a  href="/ssi-ndr/">Self-Sovereign Identity</a></li>
    <li><a  href="/notary/">Notary Service</a></li>
    <li class="menu-title"><a href="/tools-and-methods/">Tools and Methods</a></li>
    <li><a  href="/uml-profile/">UML Profile</a></li>
    <li><a  href="/api-ndr/">OpenAPI NDR</a></li>
    <li><a  href="/json-ld-ndr/">JSON-LD NDR</a></li>
    <li><a  href="/api-conformance/">Conformance Testing</a></li>
    <li class="menu-title"><a href="/community/">Community</a></li>
    <li><a href="http://eepurl.com/dMLfdU" target="_blank">Newsletter (subscribe)</a></li>
    <li><a href="https://join.slack.com/t/edi3/shared_invite/enQtNTY5OTkzMjQ0NjcyLTAxZGVlMzJmNWQ5MDBjOTRmMWViNGU0MzdhY2VkOWIwZWY3ODMxOWE4YTJmZjdiNTBkYzczZDk5Y2ViOWJlNzQ" target="_blank">Chat (join team)</a></li>
    <li><a  href="/github/">GitHub</a></li>
</ul>

        </div>
        <div class="page-content docs-content">
            
            <div class="spec-header">
                
                
                
                <ul>
                    <li>Spec ID: <p>json-ld-ndr/1</p>
</li><li><p><img src="https://rfc.unprotocols.org/spec:2/COSS/raw.svg" alt="raw" /></p>
</li>
                    <li>Editor: <p><a href="mailto:nis.jespersen@maerskgtd.com">Nis Jespersen</a></p>
</li>
                    <li>Contributors: <p><a href="mailto:steve.capell@gmail.com">Steven Capell</a></p>
</li>
                    <li><a href="/specs/edi3-json-ld-ndr/main/edi3-json-ld-ndr-main.docx">Export to Doc</a></li>
                </ul>
            </div>
            <div class="specs-toc">
    <!--<div class="specs-toc-title">Table of contents</div>-->
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#status">Status</a></li>
<li class="toc-entry toc-h2"><a href="#glossary">Glossary</a></li>
<li class="toc-entry toc-h2"><a href="#licence">Licence</a></li>
<li class="toc-entry toc-h2"><a href="#change-process">Change Process</a></li>
<li class="toc-entry toc-h2"><a href="#language">Language</a></li>
<li class="toc-entry toc-h1"><a href="#introduction">Introduction</a>
<ul>
<li class="toc-entry toc-h2"><a href="#linked-data">Linked Data</a></li>
<li class="toc-entry toc-h2"><a href="#json-ld">JSON-LD</a></li>
<li class="toc-entry toc-h2"><a href="#non-breaking-retro-fitting">Non-Breaking Retro Fitting</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#requirements">Requirements</a></li>
<li class="toc-entry toc-h1"><a href="#naming--design-rules">Naming &amp; Design Rules</a>
<ul>
<li class="toc-entry toc-h2"><a href="#rdm-mapping">RDM mapping</a>
<ul>
<li class="toc-entry toc-h3"><a href="#de-duplication">De-duplication</a></li>
<li class="toc-entry toc-h3"><a href="#primary-identifier-mapping">Primary identifier mapping</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#uncefact-metadtaa">UN/CEFACT metadtaa</a></li>
<li class="toc-entry toc-h2"><a href="#business-domain-granularity">Business domain granularity</a></li>
<li class="toc-entry toc-h2"><a href="#versioning">Versioning</a></li>
<li class="toc-entry toc-h2"><a href="#code-list-representation">Code list representation</a>
<ul>
<li class="toc-entry toc-h3"><a href="#motivation">Motivation</a></li>
<li class="toc-entry toc-h3"><a href="#identifiers">Identifiers</a>
<ul>
<li class="toc-entry toc-h4"><a href="#namespaces">Namespaces</a></li>
<li class="toc-entry toc-h4"><a href="#documentation-discovery">Documentation discovery</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#data-modelling">Data modelling</a>
<ul>
<li class="toc-entry toc-h4"><a href="#rdf-schema-rdfs-explainer">RDF Schema (RDFS) explainer</a>
<ul>
<li class="toc-entry toc-h5"><a href="#classes">Classes</a></li>
<li class="toc-entry toc-h5"><a href="#properties">Properties</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#inferencing">Inferencing</a></li>
<li class="toc-entry toc-h4"><a href="#rdfs-for-existing-codelists">RDFS for existing codelists</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#examples">Examples</a></li>
</ul>
</div>
            <h2 id="status">Status</h2>

<p>Raw</p>

<h2 id="glossary">Glossary</h2>

<table>
  <thead>
    <tr>
      <th>Phrase</th>
      <th>Definition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>This service depends on - TBA.</p>

<p>The TBA specification depends on this document. Note, TBA.</p>

<h2 id="licence">Licence</h2>

<p>All material published on edi3.org including all parts of this specification are the intellectual property of the UN as per the <a href="https://www.unece.org/fileadmin/DAM/cefact/cf_plenary/plenary12/ECE_TRADE_C_CEFACT_2010_20_Rev2E_UpdatedIPRpolicy.pdf">UN/CEFACT IPR Policy</a>.</p>

<p>This Specification is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version. See http://www.gnu.org/licenses.</p>

<h2 id="change-process">Change Process</h2>

<p>This document is governed by the <a href="http://rfc.unprotocols.org/spec:2/COSS/">2/COSS</a> (COSS).</p>

<h2 id="language">Language</h2>

<p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” 
in this document are to be interpreted as described in RFC 2119.</p>

<h1 id="introduction">Introduction</h1>
<p>The JSON-LD project aims to let not just humans, but also machines understand the semantics of CEFACT.</p>

<h2 id="linked-data">Linked Data</h2>
<p>Machines build “knowledge graphs” by linking data together. This is done by use of RDF (Resource Description Framework). RDF specifies expressing data as so-called triples, defining subject-predicate-object. A super simple example of a knowledge graph might be:</p>
<ul>
  <li>The author’s name is Nis.</li>
  <li>Nis lives in Denmark.</li>
</ul>

<p>From this, a machine would be able to build this kind of simple knowledge graph: Author - name is - Nis - lives in - Denmark. And by parsing this graph, determine for example that “the author lives in Denmark”.</p>

<p>All subjects, predicates and (some) objects are identified on the web by a IRI (Uniform Resource Identifier). An IRI identifies <em>the thing</em>, as opposed to a URL which locates a page describing the <em>the thing</em>. While this is important to machines, there can be a bit of a clash here as to how humans best read data. For example <code class="language-plaintext highlighter-rouge">&lt;https://schema.org/author&gt; &lt;https://schema.org/givenName&gt; Nis.</code> is hardly as readable as ”Presenter’s name is Nis”.</p>

<h2 id="json-ld">JSON-LD</h2>
<p>Luckily, RDF comes in many flavors. The one which we will focus on here is JSON-LD, which among its advantages is that it is useful for both humans and machines. Also, JSON-LD is based on JSON, which practically is the grammar of any modern API.</p>

<p>JSON-LD works by injecting a “context” and some other linked data aspects into a normal JSON. All injections are prefixed with an “@” indicating a JSON-LD keyword.</p>

<p>Let’s consider an example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
	"@context": "https://edi3.org/specs/edi3-transport/develop/context.jsonld",
	"consignment": {
		"bookingNumber": "123456789",
		"@id": "https://www.maersk.com/tracking/123456789",
		"includedConsignmentItem": [
			{
				"consignmentItem": {
					"information": "Mangos and bananas",
					"grossWeight": {
						"Value": "12000", "Unit": "Kgs"
					}
				}
			}
		],
		"utilizedTransportEquipment": [
			{
				"transportEquipment": {
					"identification": "MSKU0134962",
        				"@id": "https://app.bic-boxtech.org/containers?search=MSKU0134962"
				}
			}
		]
	}
}
</code></pre></div></div>

<p>Most of this is just a basic json: a consignment with some consignmentItems and a transportEquipment. All expressed in somewhat nice CEFACT lingo which is useful for humans, but just meaningless strings to a computer. The JSON-LD parts <code class="language-plaintext highlighter-rouge">@context</code> and <code class="language-plaintext highlighter-rouge">@id</code> changes that.</p>

<p>The <code class="language-plaintext highlighter-rouge">@id</code> tags inject IRIs to properly identify the consignment and transportEquipment, respectively referencing appropriate APIs from the carrier and BIC.</p>

<p>The <code class="language-plaintext highlighter-rouge">@context</code> links to a jsonld file, defining the semantic meaning of each element of the JSON (note that the context does not have to be externalized to a referenced file like this, but can also just be included directly within the json data file). Here’s what <code class="language-plaintext highlighter-rouge">https://edi3.org/specs/edi3-transport/develop/context.jsonld</code> might look like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
	"@context": {
		"consignment": {
			"@id": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment",
			"@type": "@id"
		},
  		"includedConsignmentItem": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#ConsignmentItem",
		"consignmentItem": "https://edi3.org/specs/edi3-transport/develop/vocab/ConsignmentItem",
  		"utilizedTransportEquipment": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#utilizedTransportEquipment",
		"transportEquipment": {
			"@id": "https://edi3.org/specs/edi3-transport/develop/vocab/TransportEquipment",
			"@type": "@id"
		}
	}
}
</code></pre></div></div>

<p>Here, the @context adds mapping from the human terms in the JSON to IRIs formally defining the semantics used. For example, <code class="language-plaintext highlighter-rouge">https://edi3.org/specs/edi3-transport/develop/vocab/Consignment</code> is the IRI for Consignment.</p>

<p>From this, a computer is able to build a model like this (here serialized as N-Quads):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;https://www.maersk.com/tracking/123456789&gt; &lt;https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#ConsignmentItem&gt; _:b1 .
&lt;https://www.maersk.com/tracking/123456789&gt; &lt;https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#utilizedTransportEquipment&gt; _:b3 .
_:b0 &lt;https://edi3.org/specs/edi3-transport/develop/vocab/Consignment&gt; &lt;https://www.maersk.com/tracking/123456789&gt; .
_:b1 &lt;https://edi3.org/specs/edi3-transport/develop/vocab/ConsignmentItem&gt; _:b2 .
_:b3 &lt;https://edi3.org/specs/edi3-transport/develop/vocab/TransportEquipment&gt; &lt;https://app.bic-boxtech.org/containers?search=MSKU0134962&gt; .
</code></pre></div></div>

<h2 id="non-breaking-retro-fitting">Non-Breaking Retro Fitting</h2>
<p>A clever aspect of JSON-LD is that it can be retrofitted “on top” of legacy JSONs. Adding the JSON-LD (<code class="language-plaintext highlighter-rouge">@</code>-prefixed) tags will not break your APIs.</p>

<p>For example, the following legacy JSON (which is much less aligned to CEFACT) will continue working, but generate the exact same machine model. Note that the <code class="language-plaintext highlighter-rouge">@context</code> in this example is embedded into the JSON itself:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
	"@context": {
		"shipment": {
			"@id": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment",
			"@type": "@id"
		},
      	"goods": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#ConsignmentItem",
		"goodsItem": "https://edi3.org/specs/edi3-transport/develop/vocab/ConsignmentItem",
      	"containers": "https://edi3.org/specs/edi3-transport/develop/vocab/Consignment#utilizedTransportEquipment",
		"container": {
			"@id": "https://edi3.org/specs/edi3-transport/develop/vocab/TransportEquipment",
			"@type": "@id"
		}
	},
	"shipment": {
		"bookingNumber": "123456789",
		"@id": "https://www.maersk.com/tracking/123456789",
		"goods": [{
				"goodsItem": {
					"information": "Mangos and bananas",
					"grossWeight": {"Value": "12000", "Unit": "Kgs"}
				}
			}],
		"containers": [{
				"container": {
					"boxNb": "MSKU0134962",
                  	"@id": "https://app.bic-boxtech.org/containers?search=MSKU0134962"
				}
			}]
	}
}
</code></pre></div></div>

<h1 id="requirements">Requirements</h1>

<p>This specification is part of a suite of documents that collectively provids the neccessary tools and methods for data modellers to produce high quality API designs based on UN/CEFACT semantics.</p>

<p>The UN/CEFACT vocabulary is currently published as a CSV file (the reference data models) and variously as CSV, XML, PDF or HTML (the code lists).  The core piurpose of this specification is to define the naming and design rules for consistent publishing of both the reference data models and code lists as JSON-LD vocuabularies. This is the foundation specification that makes UN/CEFACT semantics accessible and consumable for web developers. This specification will have achieved it’s purpose when UN semantics are published and consumable in a similar way to other well established vocabularies such as schema.org.</p>

<p>Within this primary goal, there are several more detailed requirements</p>

<ol>
  <li>unambiguous. The NDR must define unambiguous rules for publishing UN/CEFACT constructs such as ABIEs, ASBIES, BBIEs, etc as JSON-LD vocabulary constructs.</li>
  <li>governed. The UN/CEFACT RDMs and code lists are updated on a regular basis (roughly once per 6 months). The JSON-LD publishing process should allow updates to the vocuabulary (not a new duplicated vocabulary) at each version increment.</li>
  <li>developer freindly. The published output must be redable and consumable by any developer that is familiar with JSON-LD and should no require any understanding of UN/CEFACT library management terms and processes (eg they should not need to know what an ABIE is). Schema.org provides the most widely used JSON-LD vocabulary in use today and so is a good guide for what the published UN/CEFACT output should look like.</li>
  <li>de-duplication. In JSON-LD a “property” such as “consignment.consignor”is a primary entity and has attributes like “domain” (ie which classes may include this proiperty) and “range” (ie what is the value domain of this property). In the UN/CEFACT RDMs the “class” is the primary entity and properties can only belong to a class. Furthermore it is common for the RDM to define several version of the same class intended for use in different contexts (eg “consignment” and “referenced.consignment”). There is usually significant overlap between the properties of these classes. This means that the same semantic vocabulary item occurs multiple times. The JSON-LD vocabulary must de-duplicate without losing the usage context.</li>
  <li>what else?</li>
</ol>

<h1 id="naming--design-rules">Naming &amp; Design Rules</h1>

<h2 id="rdm-mapping">RDM mapping</h2>

<p>Current version of vocabualry was automatically generated from the CEFACT Buy-Ship-Pay Reference Data Model xls file, following the rules listed below.</p>

<ul>
  <li>ABIEs are grouped by <code class="language-plaintext highlighter-rouge">Object Class Term</code> as RDFS Classes</li>
  <li>BBIEs are grouped by <code class="language-plaintext highlighter-rouge">Property Term Qualifier(s)</code> + <code class="language-plaintext highlighter-rouge">Property Term</code> + <code class="language-plaintext highlighter-rouge">Datatype Qualifier(s)</code> + <code class="language-plaintext highlighter-rouge">Representation Term</code> as RDFS Properties</li>
  <li>ASBIEs are grouped by <code class="language-plaintext highlighter-rouge">Property Term Qualifier(s)</code> + <code class="language-plaintext highlighter-rouge">Property Term</code> + <code class="language-plaintext highlighter-rouge">Associated Object Class Term Qualifier(s)</code> + <code class="language-plaintext highlighter-rouge">Associated Object Class</code> as RDFS Properties</li>
</ul>

<h3 id="de-duplication">De-duplication</h3>

<p>The above grouping rules may lead to deduplication of several CEFACT BIEs into single class or property. For example both <em>SupplyChain_Consignment</em> and <em>Referenced_SupplyChain_Consignment</em> BIEs get merged into one <em>Consignment</em> class.</p>

<p>Such deduplication is necessary to make the RDFS modelling guidelines to be unambiguous.</p>

<h3 id="primary-identifier-mapping">Primary identifier mapping</h3>

<p>Some CEFACT BIEs have explicit primary identifier property, for example Referenced_SupplyChain_Consignment.Identification.Identifier. These properties are omitted in the RDF vocabulary, as RDF data model makes the primary identifier an inherent attribute for each entitiy in the graph.</p>

<h2 id="uncefact-metadtaa">UN/CEFACT metadtaa</h2>

<p>We provide and publish the machine-readable RDF representation of The CEFACT Buy-Ship-Pay RDM Business Information Elements, preserving their types, inheritance heirarchy and metadata. All rdfs classes and properties in edi3 vocabulary are linked with corresponding BIEs by its identifier. This link can be used to implement a software which automatically maps CEFACT RDM messages to RDF format. So that interoperability between existing systems which use CEFACT RDM and new Linked Data based systems is preserved.</p>

<p>The example rdfs property from the edi3 vocabulary, with linked CEFACT RDM BIEs:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edi3:consignorTradeParty"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rdfs:Property"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"rdfs:domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edi3:Consignment"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"rdfs:range"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edi3:Party"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"edi3:cefactElementMetadata"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cefact:Referenced_SupplyChain_Consignment.Consignor.Trade_Party"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edi3:AssociationBIE"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"edi3:cefactUNId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cefact:UN01011054"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"edi3:cefactBieDomainClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cefact:Referenced_SupplyChain_Consignment.Details"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"edi3:cefactBusinessProcess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy-Ship-Pay"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cefact:SupplyChain_Consignment.Consignor.Trade_Party"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edi3:AssociationBIE"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"edi3:cefactUNId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cefact:UN01004212"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"edi3:cefactBieDomainClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cefact:SupplyChain_Consignment.Details"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"edi3:cefactBusinessProcess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy-Ship-Pay"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="business-domain-granularity">Business domain granularity</h2>

<p>The vocabulary terms are annotated with the logical business domain which this term belongs to:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edi3:consignorTradeParty"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rdfs:Property"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"edi3:businessDomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>TODO: The formal process of assigning the business domain to the vocabulary terms is to be decided.</p>

<h2 id="versioning">Versioning</h2>

<p>The vocabulary is updated every 6 months, following the maintainance cycle of the CEFACT BSP RDM.
Each BIE is annotated with the date when it was created, current active\deprecated status, and the date of deprecation.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SupplyChain_Consignment.Consignor.Trade_Party"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edi3:AssociationBIE"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"@edi3:cefactUNId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cefact:UN01004212"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"edi3:currentStatus"</span><span class="p">:</span><span class="s2">"deprecated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"edi3:createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01-04-2017"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"edi3:deprecatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21-03-2020"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Each rdfs class and property in the vocabualry is annotated the same way. The rdfs class or property can only be deprecated when all the RDM BIEs it is linked to are deprecated.</p>

<p>Every time when the vocabulary is updated from the new version of BSP RDM, the new json-ld context file for this vocabualry is created, and published at the new permanent url, e.g https://edi3.org/vocab/2020.09/context.json</p>

<p>TODO: the exact url for the context is to be decided.</p>

<h2 id="code-list-representation">Code list representation</h2>

<p>Domain-specific parts of data model may be goverened and published separately, some of these vocabularies are called “codelists”. Such vocabularies sometimes have fairly flat and simple organization, for ex. iso-3166 country codes. But others may have quite complex hierarchical structure with additional metadata, for ex. WCO Harmonized System nomenclature.</p>

<p>In this section we describe the recommended format for publishing codelists using rdf and json-ld data model. The vocabulary definitions are represented as <a href="https://www.w3.org/TR/json-ld/#flattened-document-form">flattened json-ld</a> graph:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://edi3.org/vocab/2020.09/context.json"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"@graph"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iso:AU"</span><span class="p">,</span><span class="w"> </span><span class="nl">"rdfs:label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australia"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iso:US"</span><span class="p">,</span><span class="w"> </span><span class="nl">"rdfs:label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States of America"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>RDF graph data model and json-ld representation may be the best format for machine-readable vocabularies available today. Some prominent features are:</p>

<ul>
  <li>Standartized way to cross-reference, reuse and extend terms from multiple separately governed vocabularies</li>
  <li>Support for internationalized strings</li>
  <li>Supports hierarchical model of classes and properties</li>
  <li>Consistent library of simple data types like bool, int, date and time</li>
  <li>json-ld is designed to be easily interpreted by human developer, compared to older formats like xml</li>
</ul>

<h3 id="motivation">Motivation</h3>

<p>TODO: does it belong here?</p>

<p>To avoid interoperability disruptions, it is important for communicating systems to have consistent and up-to-date data model to operate on. Given that codelists are regularly updated, maintaining interoperability between several separately developed business applications is a challenging task.</p>

<p>Unfortunately maintainers often publish codelists in proprietary or machine-unfriendly formats like xls, pdf and html, which require tedious human processing to translate and implement in business logic. It would be beneficial to have an authoritative source of vocabulary definitions in a machine readable format to enable automated processing and allow existing systems to have always up-to-date and consistent view on the data they produce/consume.</p>

<p>TODO: we could discuss somewhere automated mechanisms to distribute updates of machine-readable vocabularies. Differences between push\pull approaches, for ex. CDN vs infrastructure based on WEBSUB hubs?</p>

<h3 id="identifiers">Identifiers</h3>

<p>Business application data usually reference entities defined in the codelist vocabulary by its identifier. For example “AU” is an identifier of Australia, defined by iso-3166.</p>

<p>While arbitrary string like “AU” may be good enough identifier in many scenarios, <a href="https://www.w3.org/TR/dwbp/#DataIdentifiers">best practices for data on the web</a> is to use http URLs as primary identifiers. The advantages of http urls are namespacing and discovery, briefly highlighted below.</p>

<h4 id="namespaces">Namespaces</h4>

<p>Sometimes several concurrent codelists exist, which describe similar concepts, for ex. <a href="https://en.wikipedia.org/wiki/International_vehicle_registration_code">Vehicle Plate Country codes</a> vs iso-3166 country codes. Quite often business applications data have to use a mix of multiple codelists, rendering the used identifiers ambiguous.</p>

<p>To resolve the identifiers ambiguity, we recommend using http urls based on the domain name which is under control of the authoritative group which maintains the codelist vocabualry. For example in place of UNECE rec.21 code “1A”, the http url “https://www.unece.org/uncefact/rec21#1A” can be used.</p>

<p>For human convenience, most RDF syntaxes support url shortening. For example, the json-ld representation can use default vocabualry or namespace prefix defined in the context:</p>

<p>Example: default vocabulary makes “1A” to expand to the full url “https://www.unece.org/uncefact/rec21#1A”</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
 </span><span class="nl">"@context"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
   </span><span class="nl">"@vocab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.unece.org/uncefact/rec21#"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"typeCode"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@vocab"</span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://maersk.com/packages/171346"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"typeCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1A"</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Example: prefix definition makes “rec21:1A” to expand to the full url “https://www.unece.org/uncefact/rec21#1A”</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
 </span><span class="nl">"@context"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
   </span><span class="nl">"@vocab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://edi3.org/vocab#"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"rec21"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.unece.org/uncefact/rec21#"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"typeCode"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@id"</span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://maersk.com/packages/171346"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"typeCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rec21:1A"</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="documentation-discovery">Documentation discovery</h4>

<p>It is recommended that dereferencing vocabulary term identifier url in the web browser result (or redirect to) the page, where the human-readable definition of this term can be found.</p>

<h3 id="data-modelling">Data modelling</h3>

<p>Entities in the codelist vocabulary might have associated metadata, such as human-readable definition, comments, symbolic representation, and links to other related entities. Each entity can be seen as a node in the RDF graph with assigned primary identifier (http url), and other datatyped or identifier nodes linked to it. In the Subject-Predicate-Object RDF representation, the kg/m² measurement unit can be defined as:</p>

<div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">&lt;rec20:kilogram_per_square_meter&gt;</span><span class="w"> </span><span class="nl">&lt;rdfs:comment&gt;</span><span class="w"> </span><span class="s">"Unit of surface density, areic mass"</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nl">&lt;rec20:kilogram_per_square_meter&gt;</span><span class="w"> </span><span class="nl">&lt;edi3:unitSymbol&gt;</span><span class="w"> </span><span class="s">"kg/m²"</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nl">&lt;rec20:kilogram_per_square_meter&gt;</span><span class="w"> </span><span class="nl">&lt;edi3:uneceRec20Code&gt;</span><span class="w"> </span><span class="s">"28"</span><span class="w"> </span><span class="p">.</span><span class="w">
</span></code></pre></div></div>

<p>Which corresponds to the json-ld</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rec20:kilogram_per_square_meter"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"rdfs:comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unit of surface density, areic mass"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"edi3:uneceRec20Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"edi3:unitSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kg/m²"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Predicates used to associate entity with related metadata have their own primary identifier (http url). In the example above the context is omitted, but implied that <em>rdfs:comment</em> and <em>edi3:uneceRec20Code</em> are abbreviated http url identifiers of predicates (properties), which are defined in the rdfs and edi3 vocabularies (see rdfs properties definition below).</p>

<h4 id="rdf-schema-rdfs-explainer">RDF Schema (RDFS) explainer</h4>

<p><a href="https://www.w3.org/TR/rdf-schema/">RDF Schema</a> provides the mechanisms for describing groups of related resources (entities) and the relationships between these resources. The RDF Schema class and property system is similar to the type systems of object-oriented programming languages, and modelling languages like UML.</p>

<p>While abstract linked graph view on the data may be useful for simple cases, the RDF Schema provides familiar and powerful semantics of Classes and Properties on top of it.</p>

<h5 id="classes">Classes</h5>

<p>Continuing from the example of UNECE rec.20 codes for measurement units, we can divide entities into classes NormativeUnit, NormativeEquivalentUnit, InformativeUnit, which are all subclasses of MeasurementUnit. To achieve that, we should first define a class, and then we can assign that class to the entity (instance of that class). On the RDF level, classes just like instances have unique identifier an can be seen as nodes in the graph.</p>

<p>Example: Base class and its specific subclasses definition</p>
<div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">&lt;edi3:MeasurementUnit&gt;</span><span class="w"> </span><span class="nl">&lt;rdf:type&gt;</span><span class="w"> </span><span class="nl">&lt;rdfs:Class&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">

</span><span class="nl">&lt;edi3:NormativeUnit&gt;</span><span class="w"> </span><span class="nl">&lt;rdf:type&gt;</span><span class="w"> </span><span class="nl">&lt;rdfs:Class&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nl">&lt;edi3:NormativeUnit&gt;</span><span class="w"> </span><span class="nl">&lt;rdfs:subClassOf&gt;</span><span class="w"> </span><span class="nl">&lt;edi3:MeasurementUnit&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">

</span><span class="nl">&lt;edi3:NormativeEquivalentUnit&gt;</span><span class="w"> </span><span class="nl">&lt;rdf:type&gt;</span><span class="w"> </span><span class="nl">&lt;rdfs:Class&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nl">&lt;edi3:NormativeEquivalentUnit&gt;</span><span class="w"> </span><span class="nl">&lt;rdfs:subClassOf&gt;</span><span class="w"> </span><span class="nl">&lt;edi3:MeasurementUnit&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">

</span><span class="nl">&lt;edi3:InformativeUnit&gt;</span><span class="w"> </span><span class="nl">&lt;rdf:type&gt;</span><span class="w"> </span><span class="nl">&lt;rdfs:Class&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nl">&lt;edi3:InformativeUnit&gt;</span><span class="w"> </span><span class="nl">&lt;rdfs:subClassOf&gt;</span><span class="w"> </span><span class="nl">&lt;edi3:MeasurementUnit&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span></code></pre></div></div>

<p>Now all measurement units can be declared being an instance of appropriate class:</p>
<div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">&lt;rec20:kilogram_per_square_meter&gt;</span><span class="w"> </span><span class="nl">&lt;rdf:type&gt;</span><span class="w"> </span><span class="nl">&lt;edi3:NormativeUnit&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nl">&lt;rec20:fahrenheit&gt;</span><span class="w"> </span><span class="nl">&lt;rdf:type&gt;</span><span class="w"> </span><span class="nl">&lt;edi3:NormativeEquivalentUnit&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="p">...</span><span class="w">
</span></code></pre></div></div>

<h5 id="properties">Properties</h5>

<p>On the RDF graph level, predicates (properties) just like classes or instances have unique identifier an can be seen as nodes in the graph. Unlike classes or class instances, the property identifiers can also appear in the predicate position (link between the nodes), specifying the semantic of the relationship between subject and object. RDFS vocabulary allows to define a node as a property, and express restrictions on the valid types of the subject and object which is allowed to be linked by this property (domain and range).</p>

<p>Example: define a property and its domain and range</p>
<div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">&lt;edi3:unitSymbol&gt;</span><span class="w"> </span><span class="nl">&lt;rdf:type&gt;</span><span class="w"> </span><span class="nl">&lt;rdfs:Property&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nl">&lt;edi3:unitSymbol&gt;</span><span class="w"> </span><span class="nl">&lt;rdfs:domain&gt;</span><span class="w"> </span><span class="nl">&lt;edi3:MeasurementUnit&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nl">&lt;edi3:unitSymbol&gt;</span><span class="w"> </span><span class="nl">&lt;rdfs:range&gt;</span><span class="w"> </span><span class="nl">&lt;xsd:string&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span></code></pre></div></div>

<p>Now the property can be used to associate measurement unit with its symbol</p>
<div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">&lt;rec20:kilogram_per_square_meter&gt;</span><span class="w"> </span><span class="nl">&lt;edi3:unitSymbol&gt;</span><span class="w"> </span><span class="s">"kg/m²"</span><span class="w"> </span><span class="p">.</span><span class="w">
</span></code></pre></div></div>

<h4 id="inferencing">Inferencing</h4>

<p>The advanced data consumers can apply RDFS inferencing engine to enrich the input graph data with the additional links (triples), which was omitted, but implied by the rdfs class heirarchy and property domain\range provided in the vocabulary.</p>

<p>For example, the kilogram_per_square_meter was defined as instance of NormativeUnit:</p>

<div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">&lt;rec20:kilogram_per_square_meter&gt;</span><span class="w"> </span><span class="nl">&lt;rdf:type&gt;</span><span class="w"> </span><span class="nl">&lt;edi3:NormativeUnit&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span></code></pre></div></div>

<p>And after applying RDFS inferencing, the new association will be added, saying that kilogram_per_square_meter is also an instance of the base MeasurementUnit class:</p>

<div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">&lt;rec20:kilogram_per_square_meter&gt;</span><span class="w"> </span><span class="nl">&lt;rdf:type&gt;</span><span class="w"> </span><span class="nl">&lt;edi3:MeasurementUnit&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span></code></pre></div></div>

<p>While RDFS inferencing is powerful, it is also computationally complex and hard to implement. It is not recommended to rely on the data consumer inferencing capability in the published data and vocabularies. It is up for particular use case to decide on, but generally it is safer to explicitly declare all types\classes on the instances, and use more generic properties instead of more specific subproperties.</p>

<h4 id="rdfs-for-existing-codelists">RDFS for existing codelists</h4>

<p>Some existing codelists combine multiple entity attributes to be “flattened” into a list of unique identifiers. For example UNECE Rec.21 for package types assigns a code “BO” to “Bottle, non-protected, cylindrical”, and “XH” to “Bag, textile, water resistant”. The brute-force way to express this codelist in machine-readable way would be 1) assign the full http url to each code, 2) associate it with a human-readable description and 3) publish it as flattened graph json-ld</p>

<p>Example: simplest json-ld representation of UNECE Rec.21</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@context"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"rec21"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://unece.org/codelists/rec21#"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rdfs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.w3.org/2000/01/rdf-schema#"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"@graph"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rec21:1A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rdfs:comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Drum, steel"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w"> 
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rec21:1B"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rdfs:comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Drum, aluminium"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w"> 
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>While the example given above is valid and fulfills the requirement of making the codelist machine-readable in many usecases, it can be improved. Proper use of RDFS annotations can make the codelist vocabulary significantly more convenient to maintain, comprehend and implement in the business logic.</p>

<p>The entities in the rec.21 vocabulary can be quite naturally interpreted as types of package, so they can be declared to be instances of <em>rdfs:Class</em>. Also the primary identifier can be made more human-friendly:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rec21:Drum_steel"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rdfs:Class"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"rdf:value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1A"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Now the business data producer can assign appropriate rec.21 package class to the subject of interest:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://maersk.com/packages/b646-629"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rec21:Drum_steel"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Many entities in the rec.21 vocabulary could be seen as subclasses of the generic base class, for example all package types listed below can be made subclasses of generic <em>Pallet</em> base class:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Pallet, CHEP 100 cm x 120 cm
Pallet, AS 4068-1993
Pallet, ISO T11
</code></pre></div></div>

<p>The appropriate class heirarchy can help maintainers to organize and visualize the vocabulary and allow business logic applications to choose the generalization level they need to operate on.</p>

<p>Some entities in the rec.21 vocabulary mix class-level abstraction with properties, such as water resistance or physical dimensions. It would be more natural to define the properties which business data could use to express such attributes:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rec21:width"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rdfs:Property"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"rdfs:domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rec21:BasePackage"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"rdfs:range"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xsd:decimal"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"rdfs:comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"physical width of the package, in millimeters"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>In some cases, part of the vocabulary such as base classes and properties could be exctracted to form the stable core vocabualry, while keeping other more specific and volatile subclasses and instances to be governed and published separately. Such distinction might be beneficial for maintaining long-term interoperability between codelist users.</p>

<h1 id="examples">Examples</h1>

<p>These are some simple examples of how this could look for the three classes referenced in the above examples:</p>
<ul>
  <li><a href="https://edi3.org/specs/edi3-transport/develop/vocab/Consignment">https://edi3.org/specs/edi3-transport/develop/vocab/Consignment</a></li>
  <li><a href="https://edi3.org/specs/edi3-transport/develop/vocab/ConsignmentItem">https://edi3.org/specs/edi3-transport/develop/vocab/ConsignmentItem</a></li>
  <li><a href="https://edi3.org/specs/edi3-transport/develop/vocab/TransportEquipment">https://edi3.org/specs/edi3-transport/develop/vocab/TransportEquipment</a></li>
</ul>


            
        </div>
    </div>
</div>
<footer class="footer">
    <a href="/" class="footer-logo"><img src="/images/logo-horisontal-white.svg" alt=""></a>
    <ul class="footer-menu">
        <li><a href="http://edi3.org/about">About edi3</a></li>
        <li><a href="https://github.com/edi3" target="_blank">Github</a></li>
        <li><a href="http://eepurl.com/dMLfdU" target="_blank">Newsletter</a></li>
        <li><a href="https://join.slack.com/t/edi3/shared_invite/enQtNTY5OTkzMjQ0NjcyLTAxZGVlMzJmNWQ5MDBjOTRmMWViNGU0MzdhY2VkOWIwZWY3ODMxOWE4YTJmZjdiNTBkYzczZDk5Y2ViOWJlNzQ" target="_blank">Join</a> <a href="https://edi3.slack.com/messages/general/" target="_blank">team</a></li>
    </ul>
    <div class="footer-credits">
        This page was generated by GitHub Pages.
        Comments, issues and suggestions are welcome in the <a href="https://github.com/edi3/edi3.github.io/issues/new">ticket system</a>.
        Pull requests welcome in the <a href="https://github.com/edi3/edi3.github.io/">site repository</a>.
    </div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-135810483-1', 'auto');
  ga('send', 'pageview');

</script>

<script src="/js/anchor.min.js"></script>
<script>
    anchors.add('h1, h2, h3, h4, h5');
    anchors.remove('.no-anchor, .page-content > h1:first-child');
</script>
</body>
</html>