<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>edi3 UML Profile 1.0 Specification - edi3 Standards by edi3</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/style.css">

    <link rel="apple-touch-icon" sizes="57x57" href="/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
</head>

<body>

<header class="header">
    <div class="header-line">
        <div class="wrapper">
            <div id="mobile-menu-wrapper" class="mobile-menu">
                <button id="hamburger-menu" class="hamburger-menu">
                    <span>toggle menu</span>
                </button>
                <div id="mobile-menu" style="display: none;">
                    
                    <ul class="sidebar-menu">
    
    <li class="menu-title"><a href="/">Overview</a></li>
    <li><a  href="/governance/">Governance</a></li>
    <li><a  href="/business-case/">Business Case</a></li>
    <li><a  href="/glossary/">UN/CEFACT Glossary</a></li>
    <li class="menu-title"><a href="/semantic-specs/">Semantic Specs</a></li>
    <li><a  href="/trade/">Trade Domain</a></li>
    <li><a  href="/transport/">Transport Domain</a></li>
    <li><a  href="/regulatory/">Regulatory Domain</a></li>
    <li><a  href="/finance/">Finance Domain</a></li>
    <li><a  href="/unlocode/">UN Locode</a></li>
    <li><a  href="/codelists/">Code Lists</a></li>
    <li><a  href="/dictionary/">Dictionary</a></li>
    <li class="menu-title"><a href="/technical-specs/">Technical Specs</a></li>
    <li><a  href="/icl/">Inter Customs Ledger</a></li>
    <li><a  href="/identity/">Identity Provider</a></li>
    <li><a  href="/discovery/">Resource Discovery</a></li>
    <li><a  href="/description/">Resource Description</a></li>
    <li><a  href="/events/">Event Structure</a></li>
    <li><a  href="/notary/">Notary Service</a></li>
    <li class="menu-title"><a href="/tools-and-methods/">Tools and Methods</a></li>
    <li><a  href="/uml-profile/">UML Profile</a></li>
    <li><a  href="/api-ndr/">OpenAPI NDR</a></li>
    <li><a  href="/json-ld-ndr/">JSON-LD NDR</a></li>
    <li><a  href="/api-conformance/">API Conformance</a></li>
    <li><a  href="/model-interchange/">Model Interchange</a></li>
    <li class="menu-title"><a href="/community/">Community</a></li>
    <li><a href="http://eepurl.com/dMLfdU" target="_blank">Newsletter (subscribe)</a></li>
    <li><a href="https://join.slack.com/t/edi3/shared_invite/enQtNTY5OTkzMjQ0NjcyLTM1MzYyNjg5M2RlMWIyZjUzMDBlNWQ3OWIyZTNhMDhhN2UzYjIyMjk4M2VhM2ViNzhhM2Y1OWE0Y2FhYTc1ZTg" target="_blank">Chat (join team)</a></li>
    <li><a  href="/github/">GitHub</a></li>
</ul>

                </div>
            </div>
            <a href="/" class="logo"><img src="/images/logo-horisontal-white.svg" alt="edi3"></a>
            <div class="header-search">
                <script>
                    (function() {
                        var cx = '002841699265932723855:7gvs7wrhud8';
                        var gcse = document.createElement('script');
                        gcse.type = 'text/javascript';
                        gcse.async = true;
                        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                        var s = document.getElementsByTagName('script')[0];
                        s.parentNode.insertBefore(gcse, s);
                    })();
                </script>
                <gcse:search></gcse:search>
            </div>
            
        </div>
    </div>
    <div class="header-content">
        <div class="wrapper">
            <div class="header-text-box">
                <div class="header-name">edi3 Standards</div>
                <div class="header-tagline">UN/CEFACT Standards for Web Developers</div>
            </div>
        </div>
    </div>
</header>
<script type="text/javascript">
    document.getElementById('hamburger-menu').onclick = function() {
        var nf = document.getElementById('mobile-menu');

        // Show and hide menu items when toggle is clicked
        if(nf.style.display==='none') {
            nf.style.display = 'block';
        }
        else {
            nf.style.display = 'none';
        }
    };

    window.addEventListener('click', function(e){
        if (!document.getElementById('mobile-menu-wrapper').contains(e.target)){
            document.getElementById('mobile-menu').style.display= 'none';
        }
    });
</script>

<div class="main-wrapper">
    <div class="main-content">
        <div class="page-sidebar">
            <ul class="sidebar-menu">
    
    <li class="menu-title"><a href="/">Overview</a></li>
    <li><a  href="/governance/">Governance</a></li>
    <li><a  href="/business-case/">Business Case</a></li>
    <li><a  href="/glossary/">UN/CEFACT Glossary</a></li>
    <li class="menu-title"><a href="/semantic-specs/">Semantic Specs</a></li>
    <li><a  href="/trade/">Trade Domain</a></li>
    <li><a  href="/transport/">Transport Domain</a></li>
    <li><a  href="/regulatory/">Regulatory Domain</a></li>
    <li><a  href="/finance/">Finance Domain</a></li>
    <li><a  href="/unlocode/">UN Locode</a></li>
    <li><a  href="/codelists/">Code Lists</a></li>
    <li><a  href="/dictionary/">Dictionary</a></li>
    <li class="menu-title"><a href="/technical-specs/">Technical Specs</a></li>
    <li><a  href="/icl/">Inter Customs Ledger</a></li>
    <li><a  href="/identity/">Identity Provider</a></li>
    <li><a  href="/discovery/">Resource Discovery</a></li>
    <li><a  href="/description/">Resource Description</a></li>
    <li><a  href="/events/">Event Structure</a></li>
    <li><a  href="/notary/">Notary Service</a></li>
    <li class="menu-title"><a href="/tools-and-methods/">Tools and Methods</a></li>
    <li><a  href="/uml-profile/">UML Profile</a></li>
    <li><a  href="/api-ndr/">OpenAPI NDR</a></li>
    <li><a  href="/json-ld-ndr/">JSON-LD NDR</a></li>
    <li><a  href="/api-conformance/">API Conformance</a></li>
    <li><a  href="/model-interchange/">Model Interchange</a></li>
    <li class="menu-title"><a href="/community/">Community</a></li>
    <li><a href="http://eepurl.com/dMLfdU" target="_blank">Newsletter (subscribe)</a></li>
    <li><a href="https://join.slack.com/t/edi3/shared_invite/enQtNTY5OTkzMjQ0NjcyLTM1MzYyNjg5M2RlMWIyZjUzMDBlNWQ3OWIyZTNhMDhhN2UzYjIyMjk4M2VhM2ViNzhhM2Y1OWE0Y2FhYTc1ZTg" target="_blank">Chat (join team)</a></li>
    <li><a  href="/github/">GitHub</a></li>
</ul>

        </div>
        <div class="page-content docs-content">
            
            <div class="back-link">
                <a href="/uml-profile/">&lt; Back</a>
            </div>
            
            <div class="spec-header">
                
                <ul>
                    <li>Spec ID: <p>uml-profile/1</p>
</li>
                    <li><p><img src="http://rfc.unprotocols.org/spec:2/COSS/raw.svg" alt="raw" /></p>
</li>
                    <li>Editor: <p><a href="mailto:steve.capell@gmail.com">Steven Capell</a></p>
</li>
                    <li>Contributors: 
</li>
                </ul>
            </div>
            <div class="specs-toc">
    <!--<div class="specs-toc-title">Table of contents</div>-->
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#introduction">Introduction</a></li>
<li class="toc-entry toc-h2"><a href="#goals">Goals</a></li>
<li class="toc-entry toc-h2"><a href="#status">Status</a></li>
<li class="toc-entry toc-h2"><a href="#dependencies">Dependencies</a></li>
<li class="toc-entry toc-h2"><a href="#glossary">Glossary</a></li>
<li class="toc-entry toc-h2"><a href="#licence">Licence</a></li>
<li class="toc-entry toc-h2"><a href="#change-process">Change Process</a></li>
<li class="toc-entry toc-h2"><a href="#language">Language</a></li>
<li class="toc-entry toc-h1"><a href="#business-domains">Business domains</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example">Example</a></li>
<li class="toc-entry toc-h3"><a href="#api-serialisation-note">API Serialisation Note</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#data-types">Data types</a>
<ul>
<li class="toc-entry toc-h2"><a href="#core-data-types">Core Data Types</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-1">Example</a></li>
<li class="toc-entry toc-h3"><a href="#api-serialisation-note-1">API Serialisation Note</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#qualified-types--enumerations">Qualified Types &amp; Enumerations</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-2">Example</a></li>
<li class="toc-entry toc-h3"><a href="#api-serialisation-note-2">API Serialisation Note</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#data-elements">Data elements</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-3">Example</a></li>
<li class="toc-entry toc-h3"><a href="#api-serialisation-note-3">API Serialisation Note</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#relationships">Relationships</a>
<ul>
<li class="toc-entry toc-h2"><a href="#generalisation-relationship">Generalisation Relationship</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-4">Example</a></li>
<li class="toc-entry toc-h3"><a href="#api-serialisation-note-4">API Serialisation Note</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#composition-relationship">Composition Relationship</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-5">Example</a></li>
<li class="toc-entry toc-h3"><a href="#api-serialisation-note-5">API Serialisation Note</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#aggregation-relationship">Aggregation Relationship</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-6">Example</a></li>
<li class="toc-entry toc-h3"><a href="#api-serialisation-note-6">API Serialisation Note</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#relationship-class">Relationship Class</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-7">Example</a></li>
<li class="toc-entry toc-h3"><a href="#api-serialisation-note-7">API Serialisation Note</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#directed-association-relationship">Directed Association Relationship</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-8">Example</a></li>
<li class="toc-entry toc-h3"><a href="#api-serialisation-note-8">API Serialisation Note</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#interfaces">Interfaces</a>
<ul>
<li class="toc-entry toc-h2"><a href="#interface-data-model">Interface Data Model</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-9">Example</a></li>
<li class="toc-entry toc-h3"><a href="#api-serialisation-note-9">API Serialisation Note</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#interface-behaviour-model">Interface behaviour Model</a>
<ul>
<li class="toc-entry toc-h3"><a href="#example-10">Example</a></li>
<li class="toc-entry toc-h3"><a href="#api-serialisation-note-10">API Serialisation Note</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#complete-example">Complete Example</a>
<ul>
<li class="toc-entry toc-h2"><a href="#model">Model</a></li>
<li class="toc-entry toc-h2"><a href="#serialisation">Serialisation</a></li>
</ul>
</li>
</ul>
</div>
            <h2 id="introduction">Introduction</h2>

<p>edi3 semantic specifications are developed by business subject matter experts with deep experience in their relevant business domain. Graphical tools provide an effective means for non-technical modellers to express business semantics and communicate them to non-technical consumers.</p>

<p>UML is the most ubiquitous graphical modelling notation and is the basis for all edi3 semantic modelling. However, without guidance, different modellers are likely to use UML differently for the same purpose. Therefore this specification provides recommendations for the consistent use of UML for the representation of the data model and state lifecycle of information entities that are at the core of all edi3 semantic specifications.</p>

<h2 id="goals">Goals</h2>

<p>This specification will have acheived its purpose when</p>

<ul>
  <li>All edi3 semantic specifications are consistently represented as UML class and state lifecycle diagrams.</li>
  <li>Models can be successfully interchanged between different UML tools.</li>
  <li>Open API 3.0 interface specifications and JSON-LD ontologies can be generated from the UML models.</li>
</ul>

<p>Like all edi3 specifications, the editors have aimed for simplicity and ease of use by the target audience (business modellers in this case).  Therefore we</p>

<ul>
  <li>focus on only two UML diagram types (class diagrams and statechart diagrams), and</li>
  <li>use a limited set of standard UML constructs (avoiding un-necessary use of stereotypes), and</li>
  <li>provide plentiful examples.</li>
</ul>

<p>It is NOT a goal of this specification to provide guidance on best practices of information modelling. We assume that the reader is a capable information modeller that wishes to use the edi3 UML profile so that models are consistent and interchangeable.</p>

<h2 id="status">Status</h2>

<p>This specification is at <img src="http://rfc.unprotocols.org/spec:2/COSS/raw.svg" alt="raw" /> status.  It will move to <img src="http://rfc.unprotocols.org/spec:2/COSS/draft.svg" alt="draft" /> when at least one UML tool supports the specification as an alpha prototype.</p>

<h2 id="dependencies">Dependencies</h2>

<p>Users of this specification will typically leverage existing semantic libraries such as the UN/CEFACT Core Component Library (CCL) or other data dictionaries based on ISO-11179. Therefore this specification maps UML constructs to both ISO-11179 and UN/CEFACT CCL.</p>

<p>Although this specification is intended to be independent of specific deployment technologies, the edi3 suite is generally targeted at REST API implementation by web developers.  Therefore, where necessary, we introduce concepts into the UML profile that will be necessary for the generation of complete OPEN API 3.0 specifications and JSON-LD ontologies.</p>

<h2 id="glossary">Glossary</h2>

<table>
  <thead>
    <tr>
      <th>Phrase</th>
      <th>Definition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CCL</td>
      <td>UN/CEFACT Core Component Library</td>
    </tr>
    <tr>
      <td>UML</td>
      <td>Unified Modelling Language</td>
    </tr>
    <tr>
      <td>UOM</td>
      <td>Unit of Measure</td>
    </tr>
  </tbody>
</table>

<h2 id="licence">Licence</h2>

<p>All material published on edi3.org including all parts of this specification are the intellectual property of the UN as per the <a href="https://www.unece.org/fileadmin/DAM/cefact/cf_plenary/plenary12/ECE_TRADE_C_CEFACT_2010_20_Rev2E_UpdatedIPRpolicy.pdf">UN/CEFACT IPR Policy</a>.</p>

<p>This Specification is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version. See http://www.gnu.org/licenses.</p>

<h2 id="change-process">Change Process</h2>

<p>This document is governed by the <a href="http://rfc.unprotocols.org/spec:2/COSS/">2/COSS</a> (COSS).</p>

<h2 id="language">Language</h2>

<p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” 
in this document are to be interpreted as described in IETF RFC 2119.</p>

<h1 id="business-domains">Business domains</h1>

<p>The highest level construct in edi3 modelling is the business domain.  A domain is a business subject area that groups a number of related information resources.</p>

<ul>
  <li>Domains are represented as a UML Package</li>
  <li>Domain names must be unique across edi3.org</li>
  <li>Domains may contain subdomains and, if so, subdomain names must be unique within the parent domain.</li>
  <li>Subdomains are related to the parent domain using a UML package containment relationship.</li>
  <li>Domains and subdomains must have a description</li>
</ul>

<h3 id="example">Example</h3>

<p><img src="Domains.png" alt="Domains" /></p>

<h3 id="api-serialisation-note">API Serialisation Note</h3>

<p>Subdomains are implemented as API definitions.  One OpenAPI3 file per lowest level domain.</p>

<h1 id="data-types">Data types</h1>

<p>Data types are represented as the “type” of a UML attribute.</p>

<h2 id="core-data-types">Core Data Types</h2>

<p>There are only 8 possible core types:</p>

<table>
  <thead>
    <tr>
      <th>Data Type</th>
      <th>Usage Rule</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Text</td>
      <td>Any string of unicode characters</td>
    </tr>
    <tr>
      <td>Numeric</td>
      <td>Any integer or floating point number</td>
    </tr>
    <tr>
      <td>Binary</td>
      <td>A binary file URL.  File type is indicated by file extension which must be a valid MIME type</td>
    </tr>
    <tr>
      <td>DateTime</td>
      <td>an ISO-8601 date/time string</td>
    </tr>
    <tr>
      <td>Identifier</td>
      <td>a controlled public identifier type such as a business registration number</td>
    </tr>
    <tr>
      <td>Code</td>
      <td>a code from a controlled list such as ISO-3166 country code</td>
    </tr>
    <tr>
      <td>Indicator</td>
      <td>a yes/no, true/false, 1/0 boolean</td>
    </tr>
    <tr>
      <td>Measure</td>
      <td>A measured value with defined UOM from UNECE-Rec-20</td>
    </tr>
    <tr>
      <td>Amount</td>
      <td>A financial amount with defined currency from ISO-4217</td>
    </tr>
  </tbody>
</table>

<h3 id="example-1">Example</h3>

<p><img src="CoreTypes.png" alt="CoreTypes" /></p>

<h3 id="api-serialisation-note-1">API Serialisation Note</h3>

<p>Types will map to corresponding JSON Schema types as defined in relevant NDR specifications (<a href="https://edi3.org/api-ndr/">OpenAPI</a> or <a href="https://edi3.org/json-ld-ndr/">JSON-LD</a>. Note that code and identifier types MUST resolve to unambiguous values at runtime and so MUST include the scheme URI.  For example a party <code class="highlighter-rouge">identification</code> element (with <code class="highlighter-rouge">identfier</code> type) for an Australian business would be serialised as<code class="highlighter-rouge">{"identification":"ato.gov.au/abn:123456789"}</code> where <code class="highlighter-rouge">ato.gov.au/abn</code> is the schemeURI and <code class="highlighter-rouge">123456789</code> is the ABN identifier value. The SchemeURI value SHOULD be compatible with the edi3 <a href="https://edi3.org/discovery/">resource discovery</a> specification so that consumers can validate identifier or code values at runtime.</p>

<h2 id="qualified-types--enumerations">Qualified Types &amp; Enumerations</h2>

<p>In most cases, the core data types are sufficient for any use. However, in some cases it is useful to define restrictions as part of the model. The most common use is where a small number of stable code values are enumerated in the data model (as opposed to discovered and validated at runtime). Common examples are entity status lifecycle values and party role enumerations. Qualified types are named using the convention {qualifier term}_{core type name}. The example shows the use of a qualified data type <code class="highlighter-rouge">TransportEventType_Code</code> to restrict the allowed values of the <code class="highlighter-rouge">Type</code> attribute of the <code class="highlighter-rouge">TransportEvent</code> class.</p>

<h3 id="example-2">Example</h3>

<p><img src="QualifiedTypes.png" alt="QualifiedTypes" /></p>

<h3 id="api-serialisation-note-2">API Serialisation Note</h3>

<p>Qualified types are implemented as JSON objects with specific properties an/or enumerated values.</p>

<h1 id="data-elements">Data elements</h1>

<p>Every data element has a globally unique name called the “dictionary entry name” of the form urn:org.unece:domain.class.property - for example “urn:org.unece:transport.transportevent.occurrencetime”</p>

<p>Simple data elements are represented as attributes of UML classes - for example <code class="highlighter-rouge">OccurrenceTime</code> in <code class="highlighter-rouge">TransportEvent</code> class. 
Complex data elements are represented as containment relationships (UML aggregation or composition) from source UML classes - for example <code class="highlighter-rouge">EventLocation</code> from <code class="highlighter-rouge">TransportEvent</code> class.</p>

<ul>
  <li>Class names MUST be unique within a domain.</li>
  <li>Attribute names MUST be unique within a class.</li>
  <li>Containment relationship names MUST be unique within the source class.</li>
  <li>All classes, attributes, and containment relationships MUST include a description which provides a meaningful definition of the data element.</li>
  <li>All attributes and containment relationship (target end) MUST have a cardinality.</li>
</ul>

<h3 id="example-3">Example</h3>

<p><img src="Elements.png" alt="Elements" /></p>

<h3 id="api-serialisation-note-3">API Serialisation Note</h3>

<p>UML Classes map to JSON Scherma objects and UML attributes become properties of the JSON Schema object. [1] cardinalities map the the <code class="highlighter-rouge">required</code> schema property. UML cardinalities [0..<em>] or [1..</em>] map to a JSON array.</p>

<h1 id="relationships">Relationships</h1>

<p>The edi3 UML profile includes four standard UML class diagram relationship types, all of which have the standard UML meaning but have specific treatment when serialising models to JSON.</p>

<h2 id="generalisation-relationship">Generalisation Relationship</h2>

<p>The UML generalisation relationship is used to indicate sub-types or specialisations of an information resource.  For example, a <code class="highlighter-rouge">Vessel</code> is a type of <code class="highlighter-rouge">TransportMeans</code>.  The specialised class (ie <code class="highlighter-rouge">Vessel</code>) inherits all the properties of the general class (ie <code class="highlighter-rouge">TransportMeans</code>).  This modelling approach permits the separation of specific properties such as <code class="highlighter-rouge">Helipad</code> (only for vessels) and <code class="highlighter-rouge">AxleLoad</code> (only for vehicles)</p>

<h3 id="example-4">Example</h3>

<p><img src="Generalisation.png" alt="Generalisation" /></p>

<h3 id="api-serialisation-note-4">API Serialisation Note</h3>

<p>The concrete class contains all propertiers of the abstract - so for example, the API user will just see a <code class="highlighter-rouge">Vessel</code> resource with the combined properties of Vessel and TransportMeans.</p>

<h2 id="composition-relationship">Composition Relationship</h2>

<p>The UML composition relationship is used to indicate a containment relationship between two classes where the contained class is part of the containing class.  It is essentially a complex property of the parent class that has no meaning without the parent context.  For example the 1TransportEvent1 class describes the sequence of scheduled, estimated, or actual events that consititute the movement record of a <code class="highlighter-rouge">TransportMovement</code>.</p>

<h3 id="example-5">Example</h3>

<p><img src="Composition.png" alt="Composition" /></p>

<h3 id="api-serialisation-note-5">API Serialisation Note</h3>

<p>The target class and all its attributes become part of the schema of the parent - ie $ref to a nested data structure. So, in the example above, <code class="highlighter-rouge">GET /TransportMovement</code> would return all properties of the <code class="highlighter-rouge">TransportMovement</code> class AND all properties of the contained <code class="highlighter-rouge">TransportEvent</code> as a nested array structure.</p>

<h2 id="aggregation-relationship">Aggregation Relationship</h2>

<p>The UML aggregation relationship is used to indicate a containment relationship between two classes where the contained class may be re-used by other classes and has meaning independent of the relationship. It is essentially a link to a relevant but independent entity. For example a <code class="highlighter-rouge">TransportMeans</code> (such as a Vessel) is an independent concept from from a <code class="highlighter-rouge">TransportMovement</code> (such as a <code class="highlighter-rouge">Voyage</code>).  Both can exist and be meaningful in isolation but clearly the the vessel identity is an important aspect of a voyage.</p>

<h3 id="example-6">Example</h3>

<p><img src="Aggregation.png" alt="Aggregation" /></p>

<h3 id="api-serialisation-note-6">API Serialisation Note</h3>

<p>Only the <code class="highlighter-rouge">{id}</code> properties of the target class are embedded into the source schema. So, in the example above, <code class="highlighter-rouge">GET /TransportMovement</code> would return all properties of <code class="highlighter-rouge">TransportMovement</code> and only the <code class="highlighter-rouge">Identification</code> and <code class="highlighter-rouge">Name</code> of the associated <code class="highlighter-rouge">TransportMeans</code> - because those are the properties with the UML ‘isID’ flag set. The JSON API header would also carry a {link} element that holds the URL of the <code class="highlighter-rouge">Transportmeans</code> resource. To retrieve the full properties of the <code class="highlighter-rouge">TransportMeans</code> element (eg to find <code class="highlighter-rouge">GrossWeight</code>), consumers would simply follow the link with a <code class="highlighter-rouge">GET /TransportMeans/{id}</code></p>

<h2 id="relationship-class">Relationship Class</h2>

<p>A UML relationship class is used when the relationship itself requires extra properties. The relatiionship class can be added to either the composition or aggregation relationship. For example, there are a number of different <code class="highlighter-rouge">Party</code> types that may participate in a <code class="highlighter-rouge">TransportMovement</code>. These can be distinguished via a <code class="highlighter-rouge">Role</code> property of the relationship as shown in the example below.</p>

<h3 id="example-7">Example</h3>

<p><img src="RelationshipClass.png" alt="RelationshipClass" /></p>

<h3 id="api-serialisation-note-7">API Serialisation Note</h3>

<p>The properties of association classes are added as extra properties of the target class during serialisation. So, in the example above, the JSAON schema would define an object <code class="highlighter-rouge">TransportMovementParty</code> as an arraye property of <code class="highlighter-rouge">TransportMovement</code> and the properties of the array object would be <code class="highlighter-rouge">Role</code> (from the relationship class) and <code class="highlighter-rouge">Identification</code>, <code class="highlighter-rouge">Name</code> (from <code class="highlighter-rouge">Party</code> class).</p>

<h2 id="directed-association-relationship">Directed Association Relationship</h2>

<p>The UML directed association relationship is used to indicate a (non containment) relationship between two classes. For the purposes of this specification it is ued for two purposes</p>

<ul>
  <li>When used between any two UML Interfaces, it indicates a URL to a linked web resource</li>
  <li>When used between any two UML classes, it indiates a semantic relationship</li>
</ul>

<h3 id="example-8">Example</h3>

<p><img src="DirectedAssociation.png" alt="DirectedAssocaition" /></p>

<h3 id="api-serialisation-note-8">API Serialisation Note</h3>

<p>When used between two interfaces, indicates that the source API MAY include a HATEOAS style URL link to the target resource, implemented using <a href="https://jsonapi.org/">JSON-API</a> <code class="highlighter-rouge">"links"</code> element. When used between two classes, the association is ignored for API serialisation (but is included in the JSON-LD ontology serialisation)</p>

<h1 id="interfaces">Interfaces</h1>

<p>An interface is a standard UML stereotype which is based on a UML class. It is normally used to indicate the behaviour of external interfaces and so is a good fit to represent a RESTful API. An interface:</p>

<h2 id="interface-data-model">Interface Data Model</h2>

<ul>
  <li>MUST be modelled as a UML class with stereotype <code class="highlighter-rouge">&lt;&lt;interface&gt;&gt;</code></li>
  <li>MUST be named using a noun, not a verb.</li>
  <li>MUST be the target of a UML <code class="highlighter-rouge">&lt;&lt;realisation&gt;&gt;</code> relationship where the source is a UML class hierarchy that represents the resource information model.</li>
  <li>MUST include a styate machine model that defines the behaviour of the reource object (see more on this in the next section)</li>
  <li>MUST include two mandatory UML attributes
    <ul>
      <li>id:string - represnting the unique identifier of the resource instance (usually a GUID)</li>
      <li>status:code - representing the current state of the resource instance</li>
    </ul>
  </li>
  <li>MUST include one or more UML operations that define the allowed actions on the resource which SHOULD be named as http verbe (GET / POST / PATCH etc).</li>
  <li>MAY be the target of one or more UML composition relationships where the sources MUST be another <code class="highlighter-rouge">&lt;&lt;interface&gt;</code> class. This is used to define sub-resource relationships.</li>
  <li>MAY be the target of one of or more UML directed association relationshoips where the source MUST be other <code class="highlighter-rouge">&lt;&lt;interface&gt; </code>class. This is used to represent URL links to independent but related resources such as the invoice for a shipment or the bill of lading for a consignment.</li>
</ul>

<h3 id="example-9">Example</h3>

<p><img src="Interfaces.png" alt="Interfaces" /></p>

<h3 id="api-serialisation-note-9">API Serialisation Note</h3>

<ul>
  <li>The UML <code class="highlighter-rouge">&lt;&lt;interface&gt;&gt;</code> type will map to a RESTful API web resource such as <code class="highlighter-rouge">/v1/transportmovements/123456789</code>. Targets of composition relationships are implemented as sub-resources only eg /voyages/12456789/transportEvents. The mapping rules for Open API 3.0 specification generation are defined in the Open API 3.0 NDR specification.</li>
  <li>Resopurce models are deliberately kept simple and so do not attempt to model things like different structures for different types of PATCH operations or a list of filters allowed in GET collection actions. These things are likely to vary by implementation.  Models and generated OpenAPI specifications published by edi3.org represent only the minimum conformant behaviour for an implemention.</li>
</ul>

<h2 id="interface-behaviour-model">Interface behaviour Model</h2>

<p>Each <code class="highlighter-rouge">&lt;&lt;interface&gt;&gt;</code> UML class MUST have an embedded UML state machine model that describes the state lifecycle of a resource. Resource state lifecvycles are important because they describe the set of allowed states and allowed transitions between states. For example an <code class="highlighter-rouge">invoice</code> resource may transition through <code class="highlighter-rouge">received</code>, <code class="highlighter-rouge">approved</code>, <code class="highlighter-rouge">disputed</code>, <code class="highlighter-rouge">amended</code>, and <code class="highlighter-rouge">paid</code>.  The precise meanings of each state can have signifcant legal or commercial significance (eg financing an <code class="highlighter-rouge">approved</code> invoice will have less risk and hence lower cost than financing a <code class="highlighter-rouge">received</code> invoice)</p>

<p>The UML profile for state lifecycles is very simple as it is just a minimal UML state machine</p>

<ul>
  <li>MUST iunclude an initial and final state and at least one simple state.</li>
  <li>MUST include at least one state transition into and out of each state.</li>
  <li>state names MUST be unique within one state lifecycle and represent the list of allowed values for the “status” attribute of the parent resource.</li>
  <li>All transitions MUST have a UML trigger that describes the business event that triggered the transition.</li>
  <li>triggers SHOULD include a target operation that links to the operation (POST/PATCH etc) of the resource action that triggered the event.</li>
</ul>

<h3 id="example-10">Example</h3>

<p><img src="StateLifecycle.png" alt="StateLifecycle" /></p>

<h3 id="api-serialisation-note-10">API Serialisation Note</h3>

<p>The state lifecycle is implemented as OpenAPI3 callbacks and subscriptions. A subscription to the resource should result in a callback to the subscriber for every transition in the state lifecycle.  The callbacks are implemented as “light ping” messages that simply advise the resource URL and the from/to state and trigger event. Subscribers may then decide whehther to GET the resource /subresource that has changed.</p>

<h1 id="complete-example">Complete Example</h1>

<h2 id="model">Model</h2>

<p>The trasnsport movements example model provided below incorporates all the UML constructs covered in this specification.</p>

<p><img src="CompleteExample.png" alt="Complete Example" /></p>

<p>The starUML source file for this model is <a href="SampleModel.mdj">here</a></p>

<h2 id="serialisation">Serialisation</h2>

<p>The sample model file generates <a href="https://edi3.org/specs/edi3-uml-profile/master/api-sample">this OpenAPI specification</a></p>


            
            <div class="back-link">
                <a href="/uml-profile/">&lt; Back</a>
            </div>
            
        </div>
    </div>
</div>
<footer class="footer">
    <a href="/" class="footer-logo"><img src="/images/logo-horisontal-white.svg" alt=""></a>
    <ul class="footer-menu">
        <li><a href="http://edi3.org/about">About edi3</a></li>
        <li><a href="https://github.com/edi3" target="_blank">Github</a></li>
        <li><a href="http://eepurl.com/dMLfdU" target="_blank">Newsletter</a></li>
        <li><a href="https://join.slack.com/t/edi3/shared_invite/enQtNTY5OTkzMjQ0NjcyLTM1MzYyNjg5M2RlMWIyZjUzMDBlNWQ3OWIyZTNhMDhhN2UzYjIyMjk4M2VhM2ViNzhhM2Y1OWE0Y2FhYTc1ZTg" target="_blank">Join</a> <a href="https://edi3.slack.com/messages/general/" target="_blank">team</a></li>
    </ul>
    <div class="footer-credits">
        This page was generated by GitHub Pages.
        Comments, issues and suggestions are welcome in the <a href="https://github.com/edi3/edi3.github.io/issues/new">ticket system</a>.
        Pull requests welcome in the <a href="https://github.com/edi3/edi3.github.io/">site repository</a>.
    </div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-135810483-1', 'auto');
  ga('send', 'pageview');

</script>

<script src="/js/anchor.min.js"></script>
<script>
    anchors.add('h1, h2, h3, h4, h5');
    anchors.remove('.no-anchor, .page-content > h1:first-child');
</script>
</body>
</html>